# Changes - November 3, 2025

## Disabled Type Checking During Build

**What Changed:**
- Modified `next.config.ts` to disable TypeScript type checking during build process
- Added `typescript.ignoreBuildErrors: true` configuration

**Why It Changed:**
- To speed up the build process by skipping type checking
- Type checking can be done separately during development or in CI/CD pipelines

**How It Affects Current Code:**
- `next build` command will no longer fail due to TypeScript errors
- Build times should be faster
- Developers should still run type checking separately using `tsc --noEmit` or similar if needed

**Developer Notes:**
- Consider running type checks in your CI/CD pipeline separately to catch type errors
- Type checking can be done in the IDE or via `tsc --noEmit` command

---

## Fixed Suspense Boundary Error in Company Page

**What Changed:**
- Modified `src/app/(Board)/company/page.tsx` to wrap component in Suspense boundary
- Added `CompanyPageWithSuspense` wrapper component
- Added loading fallback UI for Suspense

**Why It Changed:**
- Next.js 16 requires `useSearchParams()` to be wrapped in a Suspense boundary
- Build was failing during page data collection phase

**How It Affects Current Code:**
- `/company` page now builds successfully
- Shows a loading state while search params are being resolved
- No impact on functionality, only fixes build error

**Developer Notes:**
- This pattern should be used for any client component using `useSearchParams()`

---

## Hide Company Selection When Editing Purchase Orders

**What Changed:**
- Modified `src/components/form/OrderForm.tsx` to hide the entire "Company Information" section when in edit mode
- Updated validation logic to skip company selection validation when editing
- Updated payload construction to exclude all company-related fields when editing
- Company details are now only shown and required when creating a new purchase order

**Why It Changed:**
- When editing an existing purchase order, users were being asked to select the company again (which was required)
- This was confusing because the company cannot be changed once a purchase order is created
- The required field was blocking users from updating other order details
- Company data should not be sent in PATCH requests since it cannot be modified

**How It Affects Current Code:**
- When creating a new purchase order: Company selection section is shown and required (no change)
- When editing an existing purchase order: 
  - Company selection section is completely hidden
  - Company-related fields are excluded from the PATCH payload (companyId, companyName, state, district, taluk, village, coordinates, company_logo)
  - Only order-specific fields (crop, pricing, specifications, etc.) are sent
- Form validation now conditionally skips company validation when in edit mode
- The order retains its original company information from the backend

**Developer Notes:**
- The `isEditMode` prop determines whether to show company selection and include company data in payload
- Payload is split into `baseData` (always sent) and `companyData` (only when creating)
- If you need to change a company for an order, you'll need to delete and recreate the order

